{"ast":null,"code":"import { VrstaPregleda } from '../models/vrsta-pregleda';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../services/pacijent.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\n\nfunction LekarProfilComponent_tr_95_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 28);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 28);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 28);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\", 28)(8, \"button\", 32);\n    i0.ɵɵlistener(\"click\", function LekarProfilComponent_tr_95_Template_button_click_8_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const p_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.izaberiPregled(p_r1));\n    });\n    i0.ɵɵtext(9, \" Zaka\\u017Ei \");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const p_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", p_r1.naziv, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", p_r1.trajanje_u_min, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", p_r1.cena, \" \");\n  }\n}\n\nconst _c0 = function () {\n  return [\"/pacijent\"];\n};\n\nconst _c1 = function () {\n  return [\"/pacijent/lekari\"];\n};\n\nconst _c2 = function () {\n  return [\"/pacijent/pregledi\"];\n};\n\nconst _c3 = function () {\n  return [\"/pacijent/obavestenja\"];\n};\n\nconst _c4 = function () {\n  return [\"/promenaLozinke\"];\n};\n\nexport let LekarProfilComponent = /*#__PURE__*/(() => {\n  class LekarProfilComponent {\n    constructor(router, pacijentService) {\n      this.router = router;\n      this.pacijentService = pacijentService;\n      this.pregledi = [];\n      this.izabranPregled = new VrstaPregleda();\n    }\n\n    ngOnInit() {\n      this.lekar = JSON.parse(sessionStorage.getItem('lekar'));\n      this.clear();\n      this.pacijentService.dohvatiPreglede(this.lekar.licenca).subscribe(preg => {\n        this.pregledi = preg;\n      });\n    }\n\n    odjaviSe() {\n      sessionStorage.clear();\n      this.router.navigate(['']);\n    }\n\n    clear() {\n      const date_elem = document.getElementById(\"datum_vreme\");\n      const today = new Date().toISOString().split(\".\")[0].split(\"T\")[0] + 'T00:00';\n      date_elem.setAttribute(\"value\", today);\n      date_elem.setAttribute(\"min\", today);\n    }\n\n    izaberiPregled(pregled) {\n      this.izabranPregled = pregled;\n    }\n\n    zakazi() {\n      this.datumZakazivanja = new Date(this.datumZakazivanjaString);\n      const pacijent = JSON.parse(sessionStorage.getItem('ulogovan'));\n      const pacijent_kor_ime = pacijent.kor_ime;\n      const lekar_licenca = this.lekar.licenca;\n      const ime_lekara = this.lekar.ime;\n      const prezime_lekara = this.lekar.prezime;\n      const ogranak = this.lekar.ogranak;\n      const pocetak_pregleda = this.datumZakazivanja;\n      const vreme_pregleda_milisek = this.izabranPregled.trajanje_u_min * 60 * 1000;\n      const kraj_pregleda = new Date(pocetak_pregleda.getTime() + vreme_pregleda_milisek);\n      this.pacijentService.zakaziPregled(pacijent_kor_ime, lekar_licenca, ime_lekara, prezime_lekara, ogranak, this.izabranPregled.naziv, pocetak_pregleda, kraj_pregleda, this.izabranPregled.cena).subscribe(resp => {\n        document.getElementById(\"zatvoriModal\").click();\n        alert(resp['message']);\n      });\n    }\n\n  }\n\n  LekarProfilComponent.ɵfac = function LekarProfilComponent_Factory(t) {\n    return new (t || LekarProfilComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.PacijentService));\n  };\n\n  LekarProfilComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LekarProfilComponent,\n    selectors: [[\"app-lekar-profil\"]],\n    decls: 96,\n    vars: 19,\n    consts: [[2, \"background-color\", \"#ECEFF1\", \"font-family\", \"Karla\", \"font-size\", \"20px\", \"font-weight\", \"400\"], [1, \"navbar\", \"navbar-expand-lg\", \"navbar-light\", 2, \"background-color\", \"#21D192\"], [1, \"container-fluid\", 2, \"background-color\", \"#21D192\"], [\"type\", \"button\", \"data-bs-toggle\", \"collapse\", \"data-bs-target\", \"#navbarExample01\", \"aria-controls\", \"navbarNav\", \"aria-expanded\", \"false\", \"aria-label\", \"Toggle navigation\", 1, \"navbar-toggler\"], [1, \"navbar-toggler-icon\"], [1, \"navbar-nav\", \"me-auto\", \"mt-2\", \"mb-lg-0\"], [1, \"nav-item\", \"mx-sm-2\", \"mb-2\", \"me-auto\"], [\"id\", \"navbarExample01\", 1, \"collapse\", \"navbar-collapse\", \"pb-2\", 2, \"font-size\", \"20px\"], [1, \"nav-item\", \"mx-sm-2\"], [\"aria-current\", \"page\", 1, \"nav-link\", 2, \"color\", \"white\", 3, \"routerLink\"], [1, \"nav\", \"navbar-nav\", \"navbar-right\", \"mt-2\"], [1, \"btn\", \"btn-light\", \"mx-sm-2\", \"my-2\", 3, \"routerLink\"], [1, \"btn\", \"btn-secondary\", \"mx-sm-2\", \"my-2\", 3, \"click\"], [\"id\", \"zakazivanje\", \"data-bs-backdrop\", \"static\", \"data-bs-keyboard\", \"true\", \"tabindex\", \"-1\", \"aria-labelledby\", \"staticBackdropLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [1, \"modal-dialog\", \"modal-dialog-centered\"], [1, \"modal-content\"], [1, \"modal-body\"], [1, \"card-body\", \"p-5\", \"text-center\", 2, \"background-color\", \"#ECEFF1\"], [1, \"mb-5\"], [1, \"form-outline\", \"mb-4\"], [\"type\", \"text\", \"id\", \"naziv\", \"disabled\", \"\", 1, \"form-control\", \"form-control-lg\", 2, \"text-align\", \"center\", 3, \"value\"], [\"for\", \"naziv\", 1, \"form-label\"], [\"type\", \"datetime-local\", \"id\", \"datum_vreme\", 1, \"form-control\", \"form-control-lg\", 2, \"text-align\", \"center\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"datum_vreme\", 1, \"form-label\"], [\"id\", \"zatvoriModal\", \"data-bs-dismiss\", \"modal\", 1, \"btn\", \"btn-secondary\", \"btn-lg\", \"btn-block\", \"mx-3\", 3, \"click\"], [\"id\", \"ulogujSe\", 1, \"btn\", \"btn-primary\", \"btn-lg\", \"btn-block\", 3, \"click\"], [1, \"container\", \"align-items-center\"], [\"id\", \"sortTable\", 1, \"table\", \"my-4\"], [2, \"text-align\", \"center\", \"vertical-align\", \"middle\"], [\"alt\", \"Profilna slika\", 2, \"width\", \"100px\", \"height\", \"100px\", 3, \"src\"], [\"id\", \"sortTable\", 1, \"table\", \"table-bordered\", \"my-4\"], [4, \"ngFor\", \"ngForOf\"], [\"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#zakazivanje\", 1, \"btn\", \"btn-secondary\", 3, \"click\"]],\n    template: function LekarProfilComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"body\", 0)(1, \"header\")(2, \"nav\", 1)(3, \"div\", 2)(4, \"button\", 3);\n        i0.ɵɵelement(5, \"span\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"ul\", 5)(7, \"li\", 6);\n        i0.ɵɵtext(8, \"Viva Medical\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(9, \"div\", 7)(10, \"ul\", 5)(11, \"li\", 8)(12, \"a\", 9);\n        i0.ɵɵtext(13, \"Profil\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(14, \"li\", 8)(15, \"a\", 9);\n        i0.ɵɵtext(16, \"Lekari\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(17, \"li\", 8)(18, \"a\", 9);\n        i0.ɵɵtext(19, \"Pregledi\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(20, \"li\", 8)(21, \"a\", 9);\n        i0.ɵɵtext(22, \"Obave\\u0161tenja\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(23, \"ul\", 10)(24, \"li\")(25, \"a\", 11);\n        i0.ɵɵtext(26, \"Promeni lozinku\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(27, \"li\")(28, \"a\", 12);\n        i0.ɵɵlistener(\"click\", function LekarProfilComponent_Template_a_click_28_listener() {\n          return ctx.odjaviSe();\n        });\n        i0.ɵɵtext(29, \"Odjavi se\");\n        i0.ɵɵelementEnd()()()()()()();\n        i0.ɵɵelementStart(30, \"div\", 13)(31, \"div\", 14)(32, \"div\", 15)(33, \"div\", 16)(34, \"div\", 17)(35, \"h3\", 18);\n        i0.ɵɵtext(36, \"Zaka\\u017Ei pregled\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(37, \"div\", 19);\n        i0.ɵɵelement(38, \"input\", 20);\n        i0.ɵɵelementStart(39, \"label\", 21);\n        i0.ɵɵtext(40, \"Naziv pregleda\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(41, \"div\", 19)(42, \"input\", 22);\n        i0.ɵɵlistener(\"ngModelChange\", function LekarProfilComponent_Template_input_ngModelChange_42_listener($event) {\n          return ctx.datumZakazivanjaString = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(43, \"label\", 23);\n        i0.ɵɵtext(44, \"Datum i vreme\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(45, \"button\", 24);\n        i0.ɵɵlistener(\"click\", function LekarProfilComponent_Template_button_click_45_listener() {\n          return ctx.clear();\n        });\n        i0.ɵɵtext(46, \"Odustani\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(47, \"button\", 25);\n        i0.ɵɵlistener(\"click\", function LekarProfilComponent_Template_button_click_47_listener() {\n          return ctx.zakazi();\n        });\n        i0.ɵɵtext(48, \"Zaka\\u017Ei\");\n        i0.ɵɵelementEnd()()()()()();\n        i0.ɵɵelementStart(49, \"section\")(50, \"div\", 26)(51, \"table\", 27)(52, \"thead\")(53, \"tr\")(54, \"th\", 28);\n        i0.ɵɵtext(55, \"Slika\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(56, \"th\", 28);\n        i0.ɵɵtext(57, \"Ime\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(58, \"th\", 28);\n        i0.ɵɵtext(59, \"Prezime\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(60, \"th\", 28);\n        i0.ɵɵtext(61, \"Broj licence\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(62, \"th\", 28);\n        i0.ɵɵtext(63, \"Specijalizacija\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(64, \"th\", 28);\n        i0.ɵɵtext(65, \"Ogranak\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(66, \"tbody\")(67, \"tr\")(68, \"td\", 28);\n        i0.ɵɵelement(69, \"img\", 29);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(70, \"td\", 28);\n        i0.ɵɵtext(71);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(72, \"td\", 28);\n        i0.ɵɵtext(73);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(74, \"td\", 28);\n        i0.ɵɵtext(75);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(76, \"td\", 28);\n        i0.ɵɵtext(77);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(78, \"td\", 28);\n        i0.ɵɵtext(79);\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(80, \"div\", 26)(81, \"h2\");\n        i0.ɵɵtext(82, \"Pregledi\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(83, \"table\", 30)(84, \"thead\")(85, \"tr\")(86, \"th\", 28);\n        i0.ɵɵtext(87, \"Naziv pregleda\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(88, \"th\", 28);\n        i0.ɵɵtext(89, \"Trajanje (min)\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(90, \"th\", 28);\n        i0.ɵɵtext(91, \"Cena\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(92, \"th\", 28);\n        i0.ɵɵtext(93, \"Zaka\\u017Ei\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(94, \"tbody\");\n        i0.ɵɵtemplate(95, LekarProfilComponent_tr_95_Template, 10, 3, \"tr\", 31);\n        i0.ɵɵelementEnd()()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(12);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(14, _c0));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(15, _c1));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(16, _c2));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(17, _c3));\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(18, _c4));\n        i0.ɵɵadvance(13);\n        i0.ɵɵpropertyInterpolate(\"value\", ctx.izabranPregled.naziv);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.datumZakazivanjaString);\n        i0.ɵɵadvance(27);\n        i0.ɵɵproperty(\"src\", ctx.lekar.slika, i0.ɵɵsanitizeUrl);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" \", ctx.lekar.ime, \" \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" \", ctx.lekar.prezime, \" \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" \", ctx.lekar.licenca, \" \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" \", ctx.lekar.specijalizacija, \" \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" \", ctx.lekar.ogranak, \" \");\n        i0.ɵɵadvance(16);\n        i0.ɵɵproperty(\"ngForOf\", ctx.pregledi);\n      }\n    },\n    dependencies: [i3.NgForOf, i1.RouterLinkWithHref, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgModel]\n  });\n  return LekarProfilComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}